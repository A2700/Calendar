fetch('/json/library.json').then(r=>r.json()).then(d=>{const c=document.getElementById('book-container');d.forEach(i=>{const e=document.createElement('div');e.classList.add('swiper-slide');e.innerHTML=`<div class="flex flex-row"><div class="basis-72"><div class="image"><img src="${i.bookImage}" class="thumbnail h-[350px] max-w-full max-h-full object-cover" alt="" /></div></div><div class="basis-auto"><div class="content p-9"><div class="title pb-2"><h3 class="headline text-xl font-black"><a href="#" class="link text-white">${i.title}</a></h3></div><h4 class="headline pt-3 text-base font-light"><p class="paragraph leading-10 text-white">${i.summary}</p></h4></div><div class="auther"><div class="avatar w-16 h-16 float-right mr-10 ml-5"><img src="${i.authorImage}" class="thumbnail w-full h-full max-w-full max-h-full object-contain rounded-full" alt="" /></div><a href="#" class="link text-lg font-semibold leading-7 text-white">${i.authorName}</a><div class="job"><span class="job text-sm font-thin leading-11 text-white">${i.authorJob}</span></div></div></div></div>`;c.appendChild(e)});new Swiper('.mySwiper',{loop:!0,pagination:{el:".swiper-pagination"},autoplay:{delay:1e4}})}).catch(e=>console.error('Error loading the JSON file:',e));fetch('/json/speech.json').then(r=>r.json()).then(d=>{const r=d[Math.floor(Math.random()*d.length)],c=document.getElementById('quoteFrame'),e=document.createElement('div');e.classList.add('quoteFrame','pulseLoop','relative','h-44','rounded-3xl','mr-10','ml-10','mb-9','backdrop-blur-lg');e.innerHTML=`<div class="h-32 flex flex-row items-center"><div class="basis-14"><div class="avatar relative float-right w-16 h-16 mt-9 mr-9 ml-4 rounded-full bg-gray-200"><img src="${r.avatar}" class="w-16 h-16 max-w-full max-h-full object-cover rounded-full" /><span class="absolute -bottom-12 pt-2 pr-3 pl-3 pb-2 -right-4 rounded-xl text-center bg-black text-white">${r.author}</span></div></div><div class="content ml-10 mr-2 pt-11"><h4 class="headling pb-3"><p class="paragraph text-base font-light leading-9 text-white">${r.quote}</p></h4></div></div>`;c.appendChild(e)}).catch(e=>console.error('Error loading the JSON file:',e));const a='JALAQEH0Z4RC',z='Asia/Tehran',u=`https://api.timezonedb.com/v2.1/get-time-zone?key=${a}&format=json&by=zone&zone=${z}`,mD=document.querySelector('.holidayy'),s=document.querySelector('.animation'),t=document.getElementById('timer'),cD=document.getElementById('countdown'),tD=new Date('2025-03-20T12:31:30'),sD=document.createElement('div'),mD1=document.createElement('div');sD.classList.add('sun');mD1.classList.add('moon');let cI,cI1;function tPN(n){return n.toString().replace(/\d/g,d=>"۰۱۲۳۴۵۶۷۸۹"[d])}function uC(h,m,s){t.innerText=`${tPN(h.toString().padStart(2,'0'))}:${tPN(m.toString().padStart(2,'0'))}:${tPN(s.toString().padStart(2,'0'))}`}function uT(h){mD.classList.remove('holidayy','night-holiday');h>=6&&h<18?(mD.classList.add('holidayy'),s.contains(mD1)&&mD1.remove(),s.contains(sD)||s.appendChild(sD)):(mD.classList.add('night-holiday'),s.contains(sD)&&sD.remove(),s.contains(mD1)||s.appendChild(mD1))}function fT(){fetch(u).then(r=>r.json()).then(d=>{let t=new Date(d.formatted),h=t.getHours(),m=t.getMinutes(),s=t.getSeconds();uT(h);uC(h,m,s)}).catch(()=>{let t=new Date(),h=t.getHours(),m=t.getMinutes(),s=t.getSeconds();uT(h);uC(h,m,s)})}function sC(){fT();cI=setInterval(fT,1e3)}function sCD(){cI1=setInterval(()=>{let n=new Date().getTime(),d=tD-n;if(d<0){clearInterval(cI1);cD.innerText='';sFM()}else{let y=Math.floor(d/(1e3*60*60*24)),h=Math.floor((d%(1e3*60*60*24))/(1e3*60*60)),m=Math.floor((d%(1e3*60*60))/(1e3*60)),s=Math.floor((d%(1e3*60))/1e3);cD.innerText=`${tPN(y)} روز ${tPN(h)} ساعت ${tPN(m)} دقیقه ${tPN(s)} ثانیه`}},1e3)}function sFM(){const m=document.createElement('div');m.id='finish-msg';m.innerText='گاهشمار نگارستان';mD.appendChild(m);m.style.display='block'}sC();sCD();document.addEventListener('DOMContentLoaded',()=>{const f={Cartoons:['Azadi-Dark.PNG','Gulf-Dark.PNG','Isfahan.PNG','Isfahan-Dark.PNG','Pasargad-Dark.PNG','Persepolis.PNG'],Light:['Damavand.png','Gambron.png','Hormoz.png','Isfahan.png','Lorestan.png','Perspolis.png','Tehran.png'],Dark:['Azadi-Dark.png','Damavand-Dark.png','Gambron-Dark.png','Gulf-Dark.png','Isfahan-Dark.png','Lorestan-Dark.png','Pasargad-Dark.png','Perspolis-Dark.png','Tehran-Dark.png']},h=new Date().getHours(),s=h>=6&&h<18?'Light':['Cartoons','Dark'][Math.floor(Math.random()*2)],i=f[s][Math.floor(Math.random()*f[s].length)];document.body.style.cssText=`background:url('/dist/images/bg/${s}/${i}') no-repeat top center/cover`;});
